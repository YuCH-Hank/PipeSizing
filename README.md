# 管路風量畫布工具

這是一個以純 HTML / CSS / JavaScript (無框架) 實作的管路畫布工具。提供吸風口、連結點、出風口的節點配置、管路建立、風量/風速與管徑標註等功能。

## 功能
- **右鍵新增節點**：吸風口(A)、連結點(B)、出風口(C) 三種圖樣，並在節點上方標註風量。
- **多段管路**：點擊兩個節點後，透過彈窗設定「上下左右」多段距離，例如先向右 10m 再向上 10m，線段長度依比例尺呈現。
- **線段標註**：每段線段會標示距離與推薦管徑，圓管與方管以不同樣式呈現 (顏色/虛線)。
- **風量/風速計算**：可設定風速 (m/s) 與吸風口風量 (CMM)，連結點自動彙總前端風量；管徑以 `面積 = 風量 / 風速` 計算圓管直徑或方管邊長，風量會自動換算成 m³/s 參與計算。
- **比例尺**：可調整圖面比例 (px/m)，確保線段長度與設定距離成比例。
- **文字摘要**：依管線路徑輸出 ASCII 風格的摘要，便於複製。
- **刪除/編輯**：按 Delete 刪除節點；點擊線段可修改距離；清除選取按鈕可中止連線。

## 使用方式
1. 以瀏覽器開啟 `index.html`。
2. 右鍵畫布選擇要新增的節點類型。
3. 點擊吸風口即可設定風量 (CMM)；再次點擊選取節點，接著點擊另一個節點後在彈窗輸入多段距離以建立管路，畫布會按比例繪製多段水平/垂直管路。
4. 透過上方控制列設定風速、管徑形狀 (圓管/方管) 與比例尺。預設風速為 10 m/s，可依需求調整。
5. 點擊管路線段即可修改特定段落的距離；按 Delete 可刪除目前選取的節點及其管路。
6. 文字摘要區會同步顯示路徑描述，也可按「產生文字摘要」重新整理。

## 檔案結構
- `index.html`：主頁面結構與元件。
- `styles/style.css`：分離的樣式定義。
- `scripts/app.js`：功能邏輯、資料模型與事件處理。

## 計算說明
- **風量累計**：吸風口使用者輸入的風量為基礎 (CMM)；連結點及出風口會累計所有進入該節點的管路流量。
- **管徑公式**：`面積 = 風量 / 風速`，其中風量會自動從 CMM 換算為 m³/s；圓管直徑 `D = sqrt(4A/π)`，方管假設為正方形邊長 `S = sqrt(A)`。
- **比例尺**：線段長度 (m) × 比例尺 (px/m) = 畫布像素長度，確保圖面與輸入距離成比例。

## 已知限制
- 未處理迴圈流向與分流比例，預設所有流量沿著連線方向傳遞。
- 管路重繪時會將終點節點移動至設定的最後一段終點位置，以維持比例尺一致性。
